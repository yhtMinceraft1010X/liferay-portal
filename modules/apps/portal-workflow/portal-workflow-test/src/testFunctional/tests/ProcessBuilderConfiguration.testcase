@component-name = "portal-workflow"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Workflow";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			Workflow.tearDownPortalWorkflow();

			Workflow.tearDownWorkflowDefinitions();
		}
	}

	@description = "Verify that the user is able to assign a Workflow to a Knowledge Base Article"
	@priority = "5"
	test CanAssignWorkflowToBaseArticle {
		ApplicationsMenu.gotoPortlet(
			category = "Workflow",
			panel = "Applications",
			portlet = "Process Builder");

		Navigator.gotoNavItem(navItem = "Configuration");

		Workflow.configureWorkflow(
			workflowDefinition = "Single Approver",
			workflowResourceValue = "Knowledge Base Article");

		Alert.viewSuccessMessageText(successMessage = "Workflow assigned to Knowledge Base Article.");
	}

	@description = "Verify that the user is able to assign a Workflow to a Comment"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToComment {

		// TODO LRQA-68288 CanAssignWorkflowToComment pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to a Content Page"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToContentPage {

		// TODO LRQA-68289 CanAssignWorkflowToContentPage pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to Message Boards Message"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToMessageBoardsMessage {

		// TODO LRQA-68291 CanAssignWorkflowToMessageBoardsMessage pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to Page Revision"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToPageRevision {

		// TODO LRQA-68292 CanAssignWorkflowToPageRevision pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to Translation"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToTranslation {

		// TODO LRQA-68293 CanAssignWorkflowToTranslation pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to User"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToUser {

		// TODO LRQA-68294 CanAssignWorkflowToUser pending implementation

	}

	@description = "Verify that the user is able to assign a Workflow to Web Content Article"
	@ignore = "Test Stub"
	@priority = "5"
	test CanAssignWorkflowToWebContentArticle {

		// TODO LRQA-68295 CanAssignWorkflowToWebContentArticle pending implementation

	}

	@description = "Verify that the user is able to cancel the assignment"
	@priority = "4"
	test CanCancelAssignment {
		ApplicationsMenu.gotoPortlet(
			category = "Workflow",
			panel = "Applications",
			portlet = "Process Builder");

		Navigator.gotoNavItem(navItem = "Configuration");

		Workflow.configureWorkflowCancel(
			workflowDefinition = "Single Approver",
			workflowDefinitionEnd = "No Workflow",
			workflowResourceValue = "Blogs Entry");
	}

	@description = "Verify that the user is able to order by Resource"
	@priority = "3"
	test CanOrderByResource {
		ApplicationsMenu.gotoPortlet(
			category = "Workflow",
			panel = "Applications",
			portlet = "Process Builder");

		Navigator.gotoNavItem(navItem = "Configuration");

		Click(locator1 = "ManagementBar#FILTER_AND_ORDER");

		Click(
			key_menuItem = "Resource",
			locator1 = "ManagementBar#FILTER_AND_ORDER_ITEM");

		AssertTextEquals(
			key_rowNumber = "1",
			locator1 = "ProcessBuilderListView#PROCESS_NAME_TABLE_ROW",
			value1 = "Blogs Entry");

		AssertTextEquals(
			key_rowNumber = "13",
			locator1 = "ProcessBuilderListView#PROCESS_NAME_TABLE_ROW",
			value1 = "Knowledge Base Article");

		AssertTextEquals(
			key_rowNumber = "19",
			locator1 = "ProcessBuilderListView#PROCESS_NAME_TABLE_ROW",
			value1 = "Wiki Page");
	}

	@description = "Verify that the user is able to order by Workflow"
	@priority = "3"
	test CanOrderByWorkflow {
		ApplicationsMenu.gotoPortlet(
			category = "Workflow",
			panel = "Applications",
			portlet = "Process Builder");

		Navigator.gotoNavItem(navItem = "Configuration");

		Workflow.configureWorkflow(
			workflowDefinition = "Single Approver",
			workflowResourceValue = "Blogs Entry");

		Workflow.configureWorkflow(
			workflowDefinition = "Single Approver",
			workflowResourceValue = "Comment");

		Workflow.configureWorkflow(
			workflowDefinition = "Single Approver",
			workflowResourceValue = "Translation");

		ContentDashboard.filterByAuthorAll(filterOption = "Workflow");

		AssertElementPresent(
			key_workflowResourceValue = "Comment",
			locator1 = "WorkflowConfiguration#RESOURCE_TABLE_WORKFLOW");

		AssertElementPresent(
			key_workflowResourceValue = "Blogs Entry",
			locator1 = "WorkflowConfiguration#RESOURCE_TABLE_WORKFLOW");

		AssertElementPresent(
			key_workflowResourceValue = "Translation",
			locator1 = "WorkflowConfiguration#RESOURCE_TABLE_WORKFLOW");
	}

	@description = "Verify that the user is able to reverse sort direction"
	@ignore = "Test Stub"
	@priority = "2"
	test CanReverseSortDirection {

		// TODO LRQA-68284 CanReverseSortDirection pending implementation

	}

	@description = "Verify that the user is able to search by Asset Type"
	@ignore = "Test Stub"
	@priority = "4"
	test CanSearchByAssetType {

		// TODO LRQA-68278 CanSearchByAssetType pending implementation

	}

	@description = "Verify that the user is able to search by Workflow Assigned"
	@ignore = "Test Stub"
	@priority = "4"
	test CanSearchByWorkflowAssigned {

		// TODO LRQA-68279 CanSearchByWorkflowAssigned pending implementation

	}

	@description = "Verify that search can be done using non-ASCII character"
	@ignore = "Test Stub"
	@priority = "4"
	test CanSearchNonAsciiChar {

		// TODO LRQA-68281 CanSearchNonAsciiChar pending implementation

	}

	@description = "Verify that the user is able to unassign a Workflow from an Asset Type"
	@ignore = "Test Stub"
	@priority = "5"
	test CanUnassignWorkflow {

		// TODO LRQA-68286 CanUnassignWorkflow pending implementation

	}

	@description = "Verify that the Clear option cleans the search results"
	@ignore = "Test Stub"
	@priority = "3"
	test ClearSearchResults {

		// TODO LRQA-68280 ClearSearchResults pending implementation

	}

	@description = "Verify that there is a info message -The assets from Documents and Media and Forms are assigned within their respective applications.-"
	@ignore = "Test Stub"
	@priority = "2"
	test DisplaysInfoMessage {

		// TODO LRQA-68296 DisplaysInfoMessage pending implementation

	}

}